---
import FeedLayout from "@/posting/FeedLayout.astro";
import { getPostsWithTag, getTags } from "@/posting/posts";

export async function getStaticPaths() {
  const tags = await getTags();

  return tags.map((tag) => ({ params: { tag } }));
}

const { tag } = Astro.params;
const posts = await getPostsWithTag(tag);
---

<FeedLayout title={`posts tagged #${tag}`} posts={posts} />
