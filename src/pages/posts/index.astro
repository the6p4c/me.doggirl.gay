---
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
---

<ul>
  {
    allPosts.map(async (post) => {
      const { Content } = await post.render();

      return (
        <li>
          <h2>post</h2>
          <div>posted {post.data.posted.toLocaleString()}</div>
          <div>
            <Content />
          </div>
        </li>
      );
    })
  }
</ul>
